(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6be182ea"],{"274b":function(e,t,a){},"55cf":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container articles-table"},[a("div",{staticClass:"header-search-wrap"},[a("HeaderSearch")],1),a("div",{staticClass:"header-actions"},[a("Button",{attrs:{type:"primary",icon:"md-add"},on:{click:e.handleAddRow}},[e._v("新增")]),a("Button",{attrs:{type:"error",icon:"md-trash",disabled:0===e.selected.length},on:{click:e.handleBatchDelete}},[e._v("批量删除")]),a("Button",{attrs:{type:"primary",icon:"md-out"},on:{click:e.handleExportExcel}},[e._v("导出excel")])],1),a("main",[a("Table",{attrs:{border:"",data:e.articlesState.data,columns:e.columns,loading:e.articlesState.loading,"max-height":540},on:{"on-selection-change":e.handleSelectionChange},scopedSlots:e._u([{key:"actions",fn:function(t){var r=t.row;return[a("div",{staticClass:"row-actions"},[a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.handleEditRow(r)}}},[e._v("编辑")]),a("Button",{attrs:{type:"error"},on:{click:function(t){return e.handleDeleteRow(r)}}},[e._v("删除")])],1)]}}])}),a("Row",{staticStyle:{"margin-top":"15px"},attrs:{type:"flex",justify:"end"}},[a("Col",[a("Page",{attrs:{current:e.articlesState.page,total:e.articlesState.total,"page-size":e.articlesState.pageSize,"show-sizer":"","show-total":""},on:{"on-change":e.handlePageChange,"on-page-size-change":e.handlePageSizeChange}})],1)],1)],1),a("EditModal",{ref:"edit-modal"})],1)},n=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"article-header-search"},[a("Form",{attrs:{"label-width":50,"label-position":"left"}},[a("Row",{attrs:{gutter:15}},[a("Col",{attrs:{span:7}},[a("FormItem",{staticStyle:{"margin-bottom":"0"},attrs:{label:"标题"}},[a("Input",{attrs:{value:e.articlesState.queryName},on:{"on-change":e.handleNameChange}})],1)],1),a("Col",{attrs:{span:7}},[a("FormItem",{staticStyle:{"margin-bottom":"0"},attrs:{label:"类型"}},[a("Input",{attrs:{value:e.articlesState.queryType},on:{"on-change":e.handleTypeChange}})],1)],1),a("Col",{attrs:{span:7}},[a("Button",{staticStyle:{"margin-right":"10px"},attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("搜索")]),a("Button",{on:{click:e.handleReset}},[e._v("清空")])],1)],1)],1)],1)},i=[],o=(a("96cf"),a("3b8d")),l=a("66df"),c=function(e){return l["a"].request({url:"articles",params:e})},u=function(e){return e},d=function(e){return e},p=function(){return{}},h={debug:!0,state:{data:[],page:1,pageSize:10,total:0,loading:!1,queryName:"",queryType:""},getData:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var a,r,n,s,i,o,l,u,d,p,h;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=t.page,r=void 0===a?1:a,n=t.pageSize,s=void 0===n?10:n,i=t.queryName,o=void 0===i?"":i,l=t.queryType,u=void 0===l?"":l,d=null,e.prev=2,this.state.loading=!0,e.next=6,c({page:r,pageSize:s,queryName:o,queryType:u});case 6:d=e.sent,p=d,h=p.data.data,this.state.data=h,this.state.total=h.length,e.next=15;break;case 12:throw e.prev=12,e.t0=e["catch"](2),e.t0;case 15:return e.prev=15,this.state.loading=!1,e.finish(15);case 18:return e.abrupt("return",d);case 19:case"end":return e.stop()}},e,this,[[2,12,15,18]])}));function t(t){return e.apply(this,arguments)}return t}(),setQueryName:function(e){this.state.queryName=e},setQueryType:function(e){this.state.queryType=e}},m={data:function(){return{articlesState:h.state}},methods:{handleNameChange:function(e){h.setQueryName(e.target.value)},handleTypeChange:function(e){h.setQueryType(e.target.value)},handleSearch:function(){h.getData({})},handleReset:function(){this.articlesState.queryName="",this.articlesState.queryType="",h.getData({})}}},f=m,g=a("2877"),v=Object(g["a"])(f,s,i,!1,null,null,null),b=v.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",{staticClass:"expand-row"},[a("Col",{attrs:{span:"8"}},[a("span",{staticClass:"expand-key"},[e._v("id:")]),a("span",{staticClass:"expand-value"},[e._v(e._s(e.row.id))])]),a("Col",{attrs:{span:"8"}},[a("span",{staticClass:"expand-key"},[e._v("标题:")]),a("span",{staticClass:"expand-value"},[e._v(e._s(e.row.title))])]),a("Col",{attrs:{span:"8"}},[a("span",{staticClass:"expand-key"},[e._v("作者:")]),a("span",{staticClass:"expand-value"},[e._v(e._s(e.row.author))])])],1),a("Row",{staticClass:"expand-row"},[a("Col",{attrs:{span:"8"}},[a("span",{staticClass:"expand-key"},[e._v("阅读量:")]),a("span",{staticClass:"expand-value"},[e._v(e._s(e.row.readed))])]),a("Col",{attrs:{span:"8"}},[a("span",{staticClass:"expand-key"},[e._v("发布时间:")]),a("span",{staticClass:"expand-value"},[e._v(e._s(e.row.publishTime))])]),a("Col",{attrs:{span:"8"}},[a("span",{staticClass:"expand-key"},[e._v("更新时间:")]),a("span",{staticClass:"expand-value"},[e._v(e._s(e.row.updateTime))])])],1)],1)},x=[],w={props:{row:Object}},k=w,C=(a("adc4"),Object(g["a"])(k,y,x,!1,null,"4ff72fbc",null)),_=C.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{title:(this.id?"更新":"创建")+"表单",width:"50%"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("EditForm",{ref:"modal-edit-form"}),a("template",{slot:"footer"},[a("Button",{attrs:{type:"primary",loading:e.loading},on:{click:e.handleSubmit}},[e._v(e._s(this.id?"更新":"提交"))]),a("Button",{on:{click:e.closeModal}},[e._v("取消")])],1)],2)},T=[],$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Form",{ref:"article-form",attrs:{model:e.form,"label-width":100,rules:e.rules}},[a("Row",{attrs:{"class-name":"form-row",gutter:15}},[a("Col",{attrs:{xs:24,sm:24,md:12}},[a("FormItem",{attrs:{label:"title",prop:"title"}},[a("Input",{attrs:{placeholder:"please input here"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1)],1),a("Col",{attrs:{xs:24,sm:24,md:12}},[a("FormItem",{attrs:{label:"author",prop:"author"}},[a("Input",{attrs:{placeholder:"please input here"},model:{value:e.form.author,callback:function(t){e.$set(e.form,"author",t)},expression:"form.author"}})],1)],1)],1),a("Row",{attrs:{"class-name":"form-row",gutter:15}},[a("Col",{attrs:{xs:24,sm:24,md:12}},[a("FormItem",{attrs:{label:"readed",prop:"readed"}},[a("Input",{attrs:{placeholder:"please input here"},model:{value:e.form.readed,callback:function(t){e.$set(e.form,"readed",t)},expression:"form.readed"}})],1)],1),a("Col",{attrs:{xs:24,sm:24,md:12}},[a("FormItem",{attrs:{label:"publishTime",prop:"publishTime"}},[a("DatePicker",{attrs:{placeholder:"please input here",type:"datetime"},model:{value:e.form.publishTime,callback:function(t){e.$set(e.form,"publishTime",t)},expression:"form.publishTime"}})],1)],1)],1),a("Row",{attrs:{"class-name":"form-row",gutter:15}},[a("Col",{attrs:{xs:24,sm:24,md:12}},[a("FormItem",{attrs:{label:"updateTime",prop:"updateTime"}},[a("DatePicker",{attrs:{placeholder:"please input here",type:"datetime"},model:{value:e.form.updateTime,callback:function(t){e.$set(e.form,"updateTime",t)},expression:"form.updateTime"}})],1)],1)],1)],1)},R=[],E={data:function(){return{form:{title:"",author:"",readed:0,publishTime:"",updateTime:""},rules:{title:[{required:!0,message:"该字段不能为空"}],author:[{required:!0,message:"该字段不能为空"}],readed:[{required:!0,message:"该字段不能为空"}],publishTime:[{required:!0,message:"该字段不能为空"}],updateTime:[{required:!0,message:"该字段不能为空"}]},isEdit:!1}},methods:{initData:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.id=t,this.isEdit=!!t,!this.id){e.next=7;break}return e.next=5,p(t);case 5:a=e.sent,Object.assign(this.form,a);case 7:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),submit:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,a,r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs["article-form"].validate();case 2:if(t=e.sent,!t){e.next=25;break}if(e.prev=4,!this.isEdit){e.next=12;break}return e.next=8,u(this.form);case 8:r=e.sent,a=r.data.success,e.next=16;break;case 12:return e.next=14,d(this.form);case 14:n=e.sent,a=n.data.success;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](4),this.$Message.error("操作失败");case 21:return a?(this.$Message.success("操作成功"),this.clearForm()):this.$Message.error("参数错误"),e.abrupt("return",a);case 25:return e.abrupt("return",!1);case 26:case"end":return e.stop()}},e,this,[[4,18]])}));function t(){return e.apply(this,arguments)}return t}(),clearForm:function(){this.$refs["article-form"].resetFields()}}},q=E,M=(a("de1c"),Object(g["a"])(q,$,R,!1,null,"28b11e2e",null)),F=M.exports,D={components:{EditForm:F},data:function(){return{visible:!1,loading:!1,id:""}},methods:{openModal:function(e){this.id=e,this.$refs["modal-edit-form"].initData(e),this.visible=!0},closeModal:function(){this.$refs["modal-edit-form"].clearForm(),this.visible=!1},handleSubmit:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,t=!1,e.prev=2,e.next=5,this.$refs["modal-edit-form"].submit();case 5:t=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](2),this.$Message.error(e.t0.message||"出错了");case 11:t&&this.closeModal(),this.loading=!1;case 13:case"end":return e.stop()}},e,this,[[2,8]])}));function t(){return e.apply(this,arguments)}return t}()}},j=D,O=Object(g["a"])(j,S,T,!1,null,null,null),I=O.exports,B={name:"articles-table",components:{HeaderSearch:b,TableExpandRow:_,EditModal:I},data:function(){return{articlesState:h.state,columns:[{type:"expand",width:50,render:function(e,t){var a=t.row;return e(_,{props:{row:a}})}},{type:"selection",width:60,align:"center"},{title:"#",type:"index",align:"center",width:70},{title:"id",key:"id",align:"center",width:70},{title:"标题",key:"title",align:"center",maxWidth:500,minWidth:200},{title:"作者",key:"author",align:"center"},{title:"阅读量",key:"readed",align:"center"},{title:"发布时间",key:"publishTime",align:"center",ellipsis:!0,tooltip:!0},{title:"更新时间",key:"updateTime",align:"center",ellipsis:!0,tooltip:!0},{title:"操作",slot:"actions",align:"center",minWidth:80}],selected:""}},mounted:function(){this.initData()},methods:{initData:function(){h.getData({})},handleEditRow:function(e){this.$refs["edit-modal"].openModal(e.id)},handleAddRow:function(){this.$refs["edit-modal"].openModal()},handleDeleteRow:function(e){var t=this;this.$Modal.confirm({title:"警告",content:"确实要删除此行吗？",onOk:function(){t.$Message.success("删除成功")}})},handleSelectionChange:function(e){0!==e.length?this.selected=e.map(function(e){return e.id}).join(","):this.selected=""},handleBatchDelete:function(){var e=this;this.$Modal.confirm({title:"警告",content:"确实要删除此行吗？",onOk:function(){e.$Message.success("删除成功")}})},handleExportExcel:function(){},handlePageChange:function(e){},handlePageSizeChange:function(e){}}},N=B,z=(a("bd69"),Object(g["a"])(N,r,n,!1,null,"5e8b52b5",null));t["default"]=z.exports},"82d3":function(e,t,a){},a57c:function(e,t,a){},adc4:function(e,t,a){"use strict";var r=a("a57c"),n=a.n(r);n.a},bd69:function(e,t,a){"use strict";var r=a("274b"),n=a.n(r);n.a},de1c:function(e,t,a){"use strict";var r=a("82d3"),n=a.n(r);n.a}}]);